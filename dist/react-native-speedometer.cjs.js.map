{"version":3,"file":"react-native-speedometer.cjs.js","sources":["../src/index.js"],"sourcesContent":["/* eslint import/no-unresolved: [2, { ignore: ['react-native', 'react'] }] */\n/* eslint radix: [\"error\", \"as-needed\"] */\nimport React, { Component } from 'react';\nimport {\n  View,\n  Image,\n  Animated,\n  Easing,\n  Text,\n} from 'react-native';\nimport PropTypes from 'prop-types';\n\n// Utils\nimport calculateDegreeFromLabels from '../src/utils/calculate-degree-from-labels';\nimport calculateLabelFromValue from '../src/utils/calculate-label-from-value';\nimport limitValue from '../src/utils/limit-value';\nimport validateSize from '../src/utils/validate-size';\n\n// Style\nimport style, { width as deviceWidth } from '../src/style';\n\n// eslint-disable-next-line react/prefer-stateless-function\nclass Speedometer extends Component {\n  constructor(props) {\n    super(props);\n    this.speedometerValue = new Animated.Value(props.defaultValue);\n  }\n\n  render() {\n    const {\n      value,\n      size,\n      minValue,\n      maxValue,\n      easeDuration,\n      allowedDecimals,\n      labels,\n      needleImage,\n      wrapperStyle,\n      outerCircleStyle,\n      halfCircleStyle,\n      imageWrapperStyle,\n      imageStyle,\n      innerCircleStyle,\n      labelWrapperStyle,\n      labelStyle,\n      labelNoteStyle,\n      useNativeDriver,\n    } = this.props;\n    const degree = 180;\n    const perLevelDegree = calculateDegreeFromLabels(degree, labels);\n    const label = calculateLabelFromValue(\n      limitValue(value, minValue, maxValue, allowedDecimals), labels, minValue, maxValue,\n    );\n    Animated.timing(\n      this.speedometerValue,\n      {\n        toValue: limitValue(value, minValue, maxValue, allowedDecimals),\n        duration: easeDuration,\n        easing: Easing.linear,\n        useNativeDriver,\n      },\n    ).start();\n\n    const rotate = this.speedometerValue.interpolate({\n      inputRange: [minValue, maxValue],\n      outputRange: ['-90deg', '90deg'],\n    });\n\n    const currentSize = validateSize(size, deviceWidth - 20);\n    return (\n      <View style={[style.wrapper, {\n        width: currentSize,\n        height: currentSize / 2,\n      }, wrapperStyle]}\n      >\n        <View style={[style.outerCircle, {\n          width: currentSize,\n          height: currentSize / 2,\n          borderTopLeftRadius: currentSize / 2,\n          borderTopRightRadius: currentSize / 2,\n        }, outerCircleStyle]}\n        >\n          {labels.map((level, index) => {\n            const circleDegree = 90 + (index * perLevelDegree);\n            return (\n              <View\n                key={level.name}\n                style={[style.halfCircle, {\n                  backgroundColor: level.activeBarColor,\n                  width: currentSize / 2,\n                  height: currentSize,\n                  borderRadius: currentSize / 2,\n                  transform: [\n                    { translateX: currentSize / 4 },\n                    { rotate: `${circleDegree}deg` },\n                    { translateX: (currentSize / 4 * -1) },\n                  ],\n                }, halfCircleStyle]}\n              />\n            );\n          })}\n          <Animated.View style={[style.imageWrapper,\n            {\n              top: -(currentSize / 15),\n              transform: [{ rotate }],\n            },\n            imageWrapperStyle]}\n          >\n            <Image\n              style={[style.image,\n                {\n                  width: currentSize,\n                  height: currentSize,\n                }, imageStyle]}\n              source={needleImage}\n            />\n          </Animated.View>\n          <View style={[style.innerCircle, {\n            width: currentSize * 0.6,\n            height: (currentSize / 2) * 0.6,\n            borderTopLeftRadius: currentSize / 2,\n            borderTopRightRadius: currentSize / 2,\n          }, innerCircleStyle]}\n          />\n        </View>\n        <View style={[style.labelWrapper, labelWrapperStyle]}>\n          <Text style={\n            [style.label, labelStyle]}\n          >\n            {limitValue(value, minValue, maxValue, allowedDecimals)}\n          </Text>\n          <Text style={\n            [style.labelNote, { color: label.labelColor }, labelNoteStyle]}\n          >\n            {label.name}\n          </Text>\n        </View>\n      </View>\n    );\n  }\n}\n\nSpeedometer.defaultProps = {\n  defaultValue: 50,\n  minValue: 0,\n  maxValue: 100,\n  easeDuration: 500,\n  allowedDecimals: 0,\n  labels: [\n    {\n      name: 'Pathetically weak',\n      labelColor: '#ff2900',\n      activeBarColor: '#ff2900',\n    },\n    {\n      name: 'Weak',\n      labelColor: '#ff5400',\n      activeBarColor: '#ff5400',\n    },\n    {\n      name: 'So-so',\n      labelColor: '#f4ab44',\n      activeBarColor: '#f4ab44',\n    },\n    {\n      name: 'Fair',\n      labelColor: '#f2cf1f',\n      activeBarColor: '#f2cf1f',\n    },\n    {\n      name: 'Strong',\n      labelColor: '#14eb6e',\n      activeBarColor: '#14eb6e',\n    },\n    {\n      name: 'Unbelievably strong',\n      labelColor: '#00ff6b',\n      activeBarColor: '#00ff6b',\n    },\n  ],\n  needleImage: require('../images/speedometer-needle.png'),\n  wrapperStyle: {},\n  outerCircleStyle: {},\n  halfCircleStyle: {},\n  imageWrapperStyle: {},\n  imageStyle: {},\n  innerCircleStyle: {},\n  labelWrapperStyle: {},\n  labelStyle: {},\n  labelNoteStyle: {},\n  useNativeDriver: true,\n};\n\nSpeedometer.propTypes = {\n  value: PropTypes.number.isRequired,\n  defaultValue: PropTypes.number,\n  size: PropTypes.number,\n  minValue: PropTypes.number,\n  maxValue: PropTypes.number,\n  easeDuration: PropTypes.number,\n  allowedDecimals: PropTypes.number,\n  labels: PropTypes.array,\n  needleImage: PropTypes.any,\n  wrapperStyle: PropTypes.object,\n  outerCircleStyle: PropTypes.object,\n  halfCircleStyle: PropTypes.object,\n  imageWrapperStyle: PropTypes.object,\n  imageStyle: PropTypes.object,\n  innerCircleStyle: PropTypes.object,\n  labelWrapperStyle: PropTypes.object,\n  labelStyle: PropTypes.object,\n  labelNoteStyle: PropTypes.object,\n  useNativeDriver: PropTypes.bool,\n};\n\nexport default Speedometer;\n"],"names":["Speedometer","props","speedometerValue","Animated","Value","defaultValue","render","value","size","minValue","maxValue","easeDuration","allowedDecimals","labels","needleImage","wrapperStyle","outerCircleStyle","halfCircleStyle","imageWrapperStyle","imageStyle","innerCircleStyle","labelWrapperStyle","labelStyle","labelNoteStyle","useNativeDriver","degree","perLevelDegree","calculateDegreeFromLabels","label","calculateLabelFromValue","limitValue","timing","toValue","duration","easing","Easing","linear","start","rotate","interpolate","inputRange","outputRange","currentSize","validateSize","deviceWidth","React","View","style","wrapper","width","height","outerCircle","borderTopLeftRadius","borderTopRightRadius","map","level","index","circleDegree","name","halfCircle","backgroundColor","activeBarColor","borderRadius","transform","translateX","imageWrapper","top","Image","image","innerCircle","labelWrapper","Text","labelNote","color","labelColor","Component","defaultProps","require","propTypes","PropTypes","number","isRequired","array","any","object","bool"],"mappings":"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"}