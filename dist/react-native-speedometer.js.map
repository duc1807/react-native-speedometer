{"version":3,"file":"react-native-speedometer.js","sources":["../src/index.js"],"sourcesContent":["/* eslint import/no-unresolved: [2, { ignore: ['react-native', 'react'] }] */\r\n/* eslint radix: [\"error\", \"as-needed\"] */\r\nimport React, { Component } from 'react';\r\nimport {\r\n  View,\r\n  Image,\r\n  Animated,\r\n  Easing,\r\n  Text,\r\n} from 'react-native';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Utils\r\nimport calculateDegreeFromLabels from './utils/calculate-degree-from-labels';\r\nimport calculateLabelFromValue from './utils/calculate-label-from-value';\r\nimport limitValue from './utils/limit-value';\r\nimport validateSize from './utils/validate-size';\r\n\r\n// Style\r\nimport style, { width as deviceWidth } from './style';\r\n\r\n// eslint-disable-next-line react/prefer-stateless-function\r\nclass Speedometer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.speedometerValue = new Animated.Value(props.defaultValue);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      value,\r\n      size,\r\n      minValue,\r\n      maxValue,\r\n      easeDuration,\r\n      allowedDecimals,\r\n      labels,\r\n      needleImage,\r\n      wrapperStyle,\r\n      outerCircleStyle,\r\n      halfCircleStyle,\r\n      imageWrapperStyle,\r\n      imageStyle,\r\n      innerCircleStyle,\r\n      labelWrapperStyle,\r\n      labelStyle,\r\n      labelNoteStyle,\r\n      useNativeDriver,\r\n    } = this.props;\r\n    const degree = 180;\r\n    const perLevelDegree = calculateDegreeFromLabels(degree, labels);\r\n    const label = calculateLabelFromValue(\r\n      limitValue(value, minValue, maxValue, allowedDecimals), labels, minValue, maxValue,\r\n    );\r\n    Animated.timing(\r\n      this.speedometerValue,\r\n      {\r\n        toValue: limitValue(value, minValue, maxValue, allowedDecimals),\r\n        duration: easeDuration,\r\n        easing: Easing.linear,\r\n        useNativeDriver,\r\n      },\r\n    ).start();\r\n\r\n    const rotate = this.speedometerValue.interpolate({\r\n      inputRange: [minValue, maxValue],\r\n      outputRange: ['-90deg', '90deg'],\r\n    });\r\n\r\n    const currentSize = validateSize(size, deviceWidth - 20);\r\n    return (\r\n      <View style={[style.wrapper, {\r\n        width: currentSize,\r\n        height: currentSize / 2,\r\n      }, wrapperStyle]}\r\n      >\r\n        <View style={[style.outerCircle, {\r\n          width: currentSize,\r\n          height: currentSize / 2,\r\n          borderTopLeftRadius: currentSize / 2,\r\n          borderTopRightRadius: currentSize / 2,\r\n        }, outerCircleStyle]}\r\n        >\r\n          {labels.map((level, index) => {\r\n            const circleDegree = 90 + (index * perLevelDegree);\r\n            return (\r\n              <View\r\n                key={level.name}\r\n                style={[style.halfCircle, {\r\n                  backgroundColor: level.activeBarColor,\r\n                  width: currentSize / 2,\r\n                  height: currentSize,\r\n                  borderRadius: currentSize / 2,\r\n                  transform: [\r\n                    { translateX: currentSize / 4 },\r\n                    { rotate: `${circleDegree}deg` },\r\n                    { translateX: (currentSize / 4 * -1) },\r\n                  ],\r\n                }, halfCircleStyle]}\r\n              />\r\n            );\r\n          })}\r\n          <Animated.View style={[style.imageWrapper,\r\n            {\r\n              top: -(currentSize / 15),\r\n              transform: [{ rotate }],\r\n            },\r\n            imageWrapperStyle]}\r\n          >\r\n            <Image\r\n              style={[style.image,\r\n                {\r\n                  width: currentSize,\r\n                  height: currentSize,\r\n                }, imageStyle]}\r\n              source={needleImage}\r\n            />\r\n          </Animated.View>\r\n          <View style={[style.innerCircle, {\r\n            width: currentSize * 0.6,\r\n            height: (currentSize / 2) * 0.6,\r\n            borderTopLeftRadius: currentSize / 2,\r\n            borderTopRightRadius: currentSize / 2,\r\n          }, innerCircleStyle]}\r\n          />\r\n        </View>\r\n        <View style={[style.labelWrapper, labelWrapperStyle]}>\r\n          <Text style={\r\n            [style.label, labelStyle]}\r\n          >\r\n            {limitValue(value, minValue, maxValue, allowedDecimals)}\r\n          </Text>\r\n          <Text style={\r\n            [style.labelNote, { color: label.labelColor }, labelNoteStyle]}\r\n          >\r\n            {label.name}\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nSpeedometer.defaultProps = {\r\n  defaultValue: 50,\r\n  minValue: 0,\r\n  maxValue: 100,\r\n  easeDuration: 500,\r\n  allowedDecimals: 0,\r\n  labels: [\r\n    {\r\n      name: 'Pathetically weak',\r\n      labelColor: '#ff2900',\r\n      activeBarColor: '#ff2900',\r\n    },\r\n    {\r\n      name: 'Very weak',\r\n      labelColor: '#ff5400',\r\n      activeBarColor: '#ff5400',\r\n    },\r\n    {\r\n      name: 'So-so',\r\n      labelColor: '#f4ab44',\r\n      activeBarColor: '#f4ab44',\r\n    },\r\n    {\r\n      name: 'Fair',\r\n      labelColor: '#f2cf1f',\r\n      activeBarColor: '#f2cf1f',\r\n    },\r\n    {\r\n      name: 'Strong',\r\n      labelColor: '#14eb6e',\r\n      activeBarColor: '#14eb6e',\r\n    },\r\n    {\r\n      name: 'Unbelievably strong',\r\n      labelColor: '#00ff6b',\r\n      activeBarColor: '#00ff6b',\r\n    },\r\n  ],\r\n  needleImage: require('../images/needle2.png'),\r\n  wrapperStyle: {},\r\n  outerCircleStyle: {},\r\n  halfCircleStyle: {},\r\n  imageWrapperStyle: {},\r\n  imageStyle: {},\r\n  innerCircleStyle: {},\r\n  labelWrapperStyle: {},\r\n  labelStyle: {},\r\n  labelNoteStyle: {},\r\n  useNativeDriver: true,\r\n};\r\n\r\nSpeedometer.propTypes = {\r\n  value: PropTypes.number.isRequired,\r\n  defaultValue: PropTypes.number,\r\n  size: PropTypes.number,\r\n  minValue: PropTypes.number,\r\n  maxValue: PropTypes.number,\r\n  easeDuration: PropTypes.number,\r\n  allowedDecimals: PropTypes.number,\r\n  labels: PropTypes.array,\r\n  needleImage: PropTypes.any,\r\n  wrapperStyle: PropTypes.object,\r\n  outerCircleStyle: PropTypes.object,\r\n  halfCircleStyle: PropTypes.object,\r\n  imageWrapperStyle: PropTypes.object,\r\n  imageStyle: PropTypes.object,\r\n  innerCircleStyle: PropTypes.object,\r\n  labelWrapperStyle: PropTypes.object,\r\n  labelStyle: PropTypes.object,\r\n  labelNoteStyle: PropTypes.object,\r\n  useNativeDriver: PropTypes.bool,\r\n};\r\n\r\nexport default Speedometer;\r\n"],"names":["Speedometer","props","speedometerValue","Animated","Value","defaultValue","render","value","size","minValue","maxValue","easeDuration","allowedDecimals","labels","needleImage","wrapperStyle","outerCircleStyle","halfCircleStyle","imageWrapperStyle","imageStyle","innerCircleStyle","labelWrapperStyle","labelStyle","labelNoteStyle","useNativeDriver","degree","perLevelDegree","calculateDegreeFromLabels","label","calculateLabelFromValue","limitValue","timing","toValue","duration","easing","Easing","linear","start","rotate","interpolate","inputRange","outputRange","currentSize","validateSize","deviceWidth","React","View","style","wrapper","width","height","outerCircle","borderTopLeftRadius","borderTopRightRadius","map","level","index","circleDegree","name","halfCircle","backgroundColor","activeBarColor","borderRadius","transform","translateX","imageWrapper","top","Image","image","innerCircle","labelWrapper","Text","labelNote","color","labelColor","Component","defaultProps","require","propTypes","PropTypes","number","isRequired","array","any","object","bool"],"mappings":"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"}